# ğŸ” Infra Security on Azure (IaC)

![License](https://img.shields.io/badge/License-MIT-green)
![Terraform](https://img.shields.io/badge/IaC-Terraform-blue)
![Azure](https://img.shields.io/badge/Cloud-Azure-0078D4)
![OPA](https://img.shields.io/badge/Policy-OPA-orange)
![Status](https://img.shields.io/badge/Project-Active-success)

> Secure Infrastructure as Code (IaC) implementation for Microsoft Azure using **Terraform**, **Open Policy Agent (OPA)**, and **automated testing** to enforce security controls and compliance.

---

## ğŸ“Œ Table of Contents

- [Overview](#-overview)
- [Objectives](#-objectives)
- [Features](#-features)
- [Architecture](#-architecture)
- [Repository Structure](#-repository-structure)
- [Tech Stack](#-tech-stack)
- [Getting Started](#-getting-started)
- [Security Controls](#-security-controls)
- [Testing](#-testing)
- [CI/CD Pipeline](#-cicd-pipeline)
- [Author](#-Authot)

---

## ğŸš€ Overview

This project demonstrates a **security-first Infrastructure as Code (IaC)** approach for deploying and managing Azure cloud resources.

Security policies are embedded directly into the deployment pipeline to ensure:
- Misconfigurations are blocked early  
- Compliance is continuously enforced  
- Infrastructure changes remain auditable and repeatable  

---

## ğŸ¯ Objectives

- Apply **shift-left security** in cloud infrastructure  
- Enforce **least privilege and secure defaults**  
- Integrate **policy-as-code** into Terraform workflows  

---

## ğŸ§± Features

### ğŸ” Security & Compliance
- OPA policy enforcement using Rego  
- Encryption, networking and RBAC policies  
- Centralised policy library  

### ğŸ—ï¸ Infrastructure as Code
- Modular Terraform structure  
- Environment separation (dev / prod)  
- Azure-native best practices  

### ğŸ¤– Automation
- GitHub Actions CI/CD  
- Automated security checks  
- Infrastructure validation before apply  

---

## ğŸ—ºï¸ Architecture

```text
Developer â†’ GitHub â†’ GitHub Actions
                  â†“
           Terraform Plan
                  â†“
             OPA Policies
                  â†“
          Secure Azure Infra
```
---

## ğŸ“ Repository Structure

.github/
â””â”€â”€ workflows/         # CI/CD pipelines

policies/
â””â”€â”€ *.rego             # OPA security policies

terraform/
â””â”€â”€ environments/
    â””â”€â”€ azure/         # Azure Terraform code

tests/
â””â”€â”€ *.go               # Terratest test cases

---

## ğŸ§° Tech Stack

| Tool              | Purpose                     |
| ----------------- | --------------------------- |
| Terraform         | Infrastructure provisioning |
| Azure Provider    | Azure resource management   |
| Open Policy Agent | Policy-as-Code              |
| Rego              | Policy language             |
| Terratest         | Security testing            |
| GitHub Actions    | CI/CD pipeline              |
| Azure CLI         | Authentication & management |

---

## ğŸ› ï¸ Getting Started

Prerequisites
- Terraform CLI
- Azure CLI
- Go (for Terratest)
- GitHub account

Setup
git clone https://github.com/Olebxgeng/infra-security-azure.git
cd infra-security-azure
az login
terraform init
terraform plan

---

## ğŸ”’ Security Controls

This project enforces:
- Mandatory encryption
- Secure networking rules
- RBAC least privilege
- No public exposure by default
- Policy-based deployment blocking

---

## ğŸ§ª Testing

Run infrastructure security tests:
go test ./tests/ -v

Tests validate:
- Policy enforcement
- Resource configuration
- Compliance alignment

---

## ğŸ”„ CI/CD Pipeline

Every push triggers:
- Terraform validation
- OPA policy checks
- Security test execution
- Merge blocked if violations exist

---

## ğŸ‘¤ Author
Olebogeng Sebogodi
Security Engineering
GitHub: https://github.com/Olebxgeng








